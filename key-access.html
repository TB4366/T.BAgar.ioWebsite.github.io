<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Enter Access Key</title>
<style>
  body {
    background: #0b1220;
    color: white;
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px 20px;
    min-height: 100vh;
  }
  h1 {
    margin-bottom: 10px;
  }
  input[type="text"] {
    padding: 12px;
    font-size: 1rem;
    border-radius: 8px;
    border: none;
    width: 280px;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 15px;
  }
  button {
    padding: 12px 24px;
    font-size: 1rem;
    font-weight: bold;
    background-color: #1e293b;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    margin-bottom: 10px; /* voeg wat ruimte toe tussen knoppen */
  }
  button:hover {
    background-color: #334155;
  }
  .message {
    margin: 15px 0;
    font-weight: bold;
    min-height: 24px;
    text-align: center;
  }
  .contact {
    margin-top: 40px;
    font-size: 0.9rem;
    color: #888;
    text-align: center;
  }
  /* Kleine aanpassing om SVG netjes uit te lijnen in button */
  button svg {
    vertical-align: middle;
    margin-right: 6px;
  }
</style>
</head>
<body>

<h1>Enter Your Access Key</h1>
<input type="text" id="keyInput" maxlength="15" placeholder="Enter your key" autocomplete="off" />

<button onclick="checkKey()">Submit Key</button>
<button onclick="window.location.href='index.html'">Go to Home Page</button>
<button onclick="window.open('https://www.instagram.com/t.bagar.io/', '_blank')">
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" viewBox="0 0 24 24">
    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.337 3.608 1.312.975.975 1.25 2.242 1.312 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.337 2.633-1.312 3.608-.975.975-2.242 1.25-3.608 1.312-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.337-3.608-1.312-.975-.975-1.25-2.242-1.312-3.608C2.175 15.747 2.163 15.367 2.163 12s.012-3.584.07-4.85c.062-1.366.337-2.633 1.312-3.608.975-.975 2.242-1.25 3.608-1.312C8.416 2.175 8.796 2.163 12 2.163zm0-2.163C8.741 0 8.332.013 7.052.072 5.775.131 4.638.396 3.678 1.356 2.718 2.316 2.453 3.453 2.394 4.73 2.335 6.01 2.322 6.419 2.322 12s.013 5.99.072 7.27c.059 1.277.324 2.414 1.284 3.374.96.96 2.097 1.225 3.374 1.284 1.28.059 1.689.072 7.27.072s5.99-.013 7.27-.072c1.277-.059 2.414-.324 3.374-1.284.96-.96 1.225-2.097 1.284-3.374.059-1.28.072-1.689.072-7.27s-.013-5.99-.072-7.27c-.059-1.277-.324-2.414-1.284-3.374C20.414.396 19.277.131 18 0c-1.28-.059-1.689-.072-7.27-.072z"/>
    <path d="M12 5.838a6.162 6.162 0 1 0 0 12.324A6.162 6.162 0 0 0 12 5.838zm0 10.162a3.999 3.999 0 1 1 0-7.998 3.999 3.999 0 0 1 0 7.998z"/>
    <circle cx="18.406" cy="5.594" r="1.44"/>
  </svg>
  @t.bagar.io
</button>

<div class="message" id="message"></div>

<script>
  const keyPages = {
    "G9BOL45GG0VD014": "speciale-custom-skins.html",
    "B2C3D4E5F6G7H8I": "page-2.html",
    "C3D4E5F6G7H8I9J": "page-3.html",
    "D4E5F6G7H8I9J0K": "page-4.html",
    "E5F6G7H8I9J0K1L": "page-5.html",
    "F6G7H8I9J0K1L2M": "page-6.html",
    "G7H8I9J0K1L2M3N": "page-7.html",
    "H8I9J0K1L2M3N4O": "page-8.html",
    "I9J0K1L2M3N4O5P": "page-9.html",
    "J0K1L2M3N4O5P6Q": "page-10.html",
    "K1L2M3N4O5P6Q7R": "page-11.html",
    "L2M3N4O5P6Q7R8S": "page-12.html",
    "M3N4O5P6Q7R8S9T": "page-13.html",
    "N4O5P6Q7R8S9T0U": "page-14.html",
    "O5P6Q7R8S9T0U1V": "page-15.html",
    "P6Q7R8S9T0U1V2W": "page-16.html",
    "Q7R8S9T0U1V2W3X": "page-17.html",
    "R8S9T0U1V2W3X4Y": "page-18.html",
    "S9T0U1V2W3X4Y5Z": "page-19.html",
    "T0U1V2W3X4Y5Z6A": "page-20.html"
  };

  const STORAGE_KEY = "usedKeys";
  const RESET_INTERVAL_MS = 1 * 60 * 1000; // 1 minuut

  function cleanOldUsedKeys() {
    let used = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};
    const now = Date.now();
    let changed = false;

    for (const key in used) {
      if (now - used[key] > RESET_INTERVAL_MS) {
        delete used[key];
        changed = true;
      }
    }

    if (changed) {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(used));
    }
  }

  function checkKey() {
    cleanOldUsedKeys();

    const input = document.getElementById("keyInput");
    const message = document.getElementById("message");
    const enteredKey = input.value.trim().toUpperCase();

    if (enteredKey.length !== 15) {
      message.style.color = "red";
      message.textContent = "Please enter a 15-character key.";
      return;
    }

    if (!keyPages.hasOwnProperty(enteredKey)) {
      message.style.color = "red";
      message.textContent = "Invalid key. Please try again.";
      return;
    }

    let used = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};

    if (used.hasOwnProperty(enteredKey)) {
      message.style.color = "red";
      message.textContent = "This key has already been used. Please wait for reset.";
      return;
    }

    used[enteredKey] = Date.now();
    localStorage.setItem(STORAGE_KEY, JSON.stringify(used));

    message.style.color = "lime";
    message.textContent = "Key accepted! Redirecting you now...";

    setTimeout(() => {
      window.location.href = keyPages[enteredKey];
    }, 1000);
  }
</script>

<div class="contact">
  <p>DM T.B for a key</p>
  <p>Contact: <strong>@tbagar.io</strong></p>
</div>

</body>
</html>
